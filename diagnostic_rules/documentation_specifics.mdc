---
description: è¯Šæ–­é¡¹ç›®çš„æ–‡æ¡£ç»“æ„ä¸è§„èŒƒ (PICS, User Manual, Architecture)
globs: doc/**/*, **/*.md, diagnostic_rules/**/*
alwaysApply: false
---

# ğŸ“ è¯Šæ–­æ–‡æ¡£è§„èŒƒ (Diagnostic Documentation Standards)

**ç›®æ ‡**ï¼šç¡®ä¿è¯Šæ–­é¡¹ç›®å…·å¤‡æ¸…æ™°çš„åè®®å£°æ˜ (PICS)ã€æ¶æ„è¯´æ˜ä¸ç”¨æˆ·æ‰‹å†Œï¼Œæ”¯æŒè‡ªåŠ¨åŒ–æµ‹è¯•ä¸åˆè§„å®¡æŸ¥ã€‚

## ğŸš¨ æ–‡æ¡£è‡ªæ£€æ¸…å• (Documentation Checklist)

åœ¨æäº¤æ–‡æ¡£æˆ–ä»£ç å˜æ›´å‰ï¼Œ**MUST** æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- [ ] **PICS å®Œæ•´æ€§**ï¼šç¡®è®¤ `doc/protocol/pics_uds.md` è¦†ç›–äº†æ‰€æœ‰å®ç°çš„ UDS æœåŠ¡ (SID) ä¸ä¼šè¯ç±»å‹ã€‚
- [ ] **PICS å‡†ç¡®æ€§**ï¼šç¡®è®¤ PICS ä¸­çš„ P2/P2* æ—¶é—´å‚æ•°ä¸ `data/` ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ä¸€è‡´ã€‚
- [ ] **æ¶æ„åŒæ­¥**ï¼šè‹¥æ–°å¢äº†ä¸šåŠ¡æ¨¡å—ï¼Œç¡®è®¤å·²æ›´æ–° `doc/architecture/modules.md`ã€‚
- [ ] **ç”¨æˆ·æ‰‹å†Œ**ï¼šè‹¥ä¿®æ”¹äº† UI æˆ–æ“ä½œæµç¨‹ï¼Œç¡®è®¤å·²æ›´æ–° `doc/user/manual.md`ã€‚
- [ ] **å®‰å…¨è„±æ•**ï¼šç¡®è®¤æ–‡æ¡£ä¸­**æœªåŒ…å«**ä»»ä½• OEM å†…éƒ¨å¯†é’¥ã€å¯†ç æˆ–æ•æ„Ÿç®—æ³•ç»†èŠ‚ã€‚

## ğŸ“‚ å¿…å¤‡æ–‡æ¡£ç»“æ„ (Required Documents)

| æ–‡æ¡£ç±»å‹ | å»ºè®®è·¯å¾„ | å†…å®¹è¦æ±‚ | è¯»è€…å¯¹è±¡ |
| :--- | :--- | :--- | :--- |
| **PICS** | `doc/protocol/pics_uds.md` | æ”¯æŒçš„ SIDã€Sessionã€NRCã€Timing | OEM, æµ‹è¯•, æ¶æ„å¸ˆ |
| **æ¶æ„æ¦‚è§ˆ** | `doc/architecture/overview.md` | ç³»ç»Ÿä¸Šä¸‹æ–‡ã€æ¨¡å—ä¾èµ–å›¾ã€åˆ†å±‚è¯´æ˜ | å¼€å‘, æ¶æ„å¸ˆ |
| **æ•°æ®æ¨¡å‹** | `doc/architecture/data_model.md` | å®ä½“å®šä¹‰ (ECU, DTC)ã€é…ç½®åŠ è½½é€»è¾‘ | å¼€å‘ |
| **ç”¨æˆ·æ‰‹å†Œ** | `doc/user/manual.md` | VCI è¿æ¥æ­¥éª¤ã€åŠŸèƒ½æ“ä½œæŒ‡å— (éæŠ€æœ¯) | æŠ€å¸ˆ, æµ‹è¯• |

## âœ… DO (æœ€ä½³å®è·µ)

### 1. PICS ç¼–å†™èŒƒä¾‹ (`pics_uds.md`)

```markdown
# UDS Protocol Implementation Conformance Statement

## 1. Scope
- Carline: HD_BEIQI
- ECU: BCM, EMS, TCU

## 2. Session Support
| Session Name | SID | Supported | Notes |
| :--- | :--- | :--- | :--- |
| Default | 0x10 01 | âœ… | |
| Extended | 0x10 03 | âœ… | Required for IO Control |
| Programming | 0x10 02 | âŒ | Not implemented in Phase 1 |

## 3. Service Support
- **0x10** (DiagnosticSessionControl): Full support.
- **0x27** (SecurityAccess): Level 1/2 supported. Seed/Key via external DLL.
- **0x19** (ReadDTC): Sub-functions 0x02, 0x0A supported.

## 4. Timing
- **P2**: 50ms (Configurable via `config.ini`)
- **P2***: 5000ms
```

### 2. æ¶æ„æ¨¡å—è¯´æ˜ (`modules.md`)

```markdown
## Module: SecurityAccessManager
- **Layer**: Domain
- **Responsibility**:
  - Manage Security Level (Locked/Unlocked).
  - Interface with `seed_key.dll`.
- **Dependencies**:
  - `IDiagTransport` (Send 0x27)
  - `IPlatformSystem` (Load DLL)
```

## âŒ DON'T (å¸¸è§é”™è¯¯)

- **æ¨¡ç³Šæè¿°**ï¼šä¸è¦å†™â€œæ”¯æŒæ‰€æœ‰ UDS æœåŠ¡â€ï¼Œå¿…é¡»åˆ—å‡ºå…·ä½“ SID å’Œ Sub-functionã€‚
- **ç¡¬ç¼–ç æ–‡æ¡£**ï¼šä¸è¦åœ¨æ–‡æ¡£ä¸­å†™æ­»ä»£ç é‡Œçš„å¸¸é‡ï¼ˆå¦‚å…·ä½“å†…å­˜åœ°å€ï¼‰ï¼Œåº”å¼•ç”¨ä»£ç æˆ–é…ç½®æ–‡ä»¶ã€‚
- **æ³„éœ²æœºå¯†**ï¼š**ä¸¥ç¦**åœ¨ Markdown ä¸­æ˜æ–‡å†™å‡º Security Access çš„è®¡ç®—å…¬å¼æˆ–å›ºå®š Keyã€‚
